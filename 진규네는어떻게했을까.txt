옆동네친구한테 들은거 정리한거야
아래에 우리꺼랑 비교한거도 정리해봤어

-----------친구네이야기-----------
저긴 일단 입력도 아두이노(센서)고 출력도 아두이노(모터)야

센서아두이노 : 클라우드로 데이터가 올라가야함
모터아두이노 : 클라우드에서 데이터가 내려와야함

올라갈때
센서아두이노>아틱>클라우드

내려올때
클라우드>아틱>모터아두이노

***올라갈때랑 내려올때 쓰는 통신방법이 다름***

올라갈때 : TCP씀
내려올때 : mqtt씀

** 아틱이랑 아두이노는 일단 와이파이가 가능해야 함

1. 올라갈때
1) 아두이노>아틱
"아두이노 스케치에 코드"를 입력해서 아틱이랑 아두이노랑 통신하게했어
이 스케치 코드가 친구가 나한테 맨처음 보내준 코드임
근데 우리는 센서 자체가 아틱에 있으니까 이 과정은 우리에겐 의미가 없지

2) 아틱>클라우드
이건 노드레드+wifi인거 보면 우리 실습시간에 했던 내용인 모양이야
친구 노드레드보면 2번 과정에 해당하는 노드(아래있는 세개짜리 노드) 구성이 
tcp->function->artik cloud 
이렇게 되어있는데
저 tcp노드는 1번에서 합쳐진 아두이노와 아틱을 의미하는거라고 했어
근데 승현이가 무선으로 아틱에서 클라우드로 센서값 넘어간다고 한거 보면
2번 과정은 크게 터치 안해도 되지않을까

2. 내려올때

** mqtt를 쓰면 아틱이 브로커(중간다리)가 되어서
** 아틱 클라우드가 아틱에 올린걸 아두이노가 받는 게 가능하고
** 반대로 아두이노가 올린걸 클라우드가 받는 것도 가능하대
** 얘네는 그냥 단방향으로 쓴거고

1) 클라우드>아틱
이 과정은 친구가 "그냥 노드레드에서 선 연결" 해줬다고 하더라
노드레드에
 아틱클라우드>function>mqtt
이렇게 되어있어
이렇게 해놓으면 선뽑아도 통신이 된다고 하더라....?

2)아틱>아두이노
1-1)이랑 마찬가지로 "스케치에 코드"를 입력해서 mqtt통신하게 했어
이거 관련된 내용이 친구가 나한테 보내준 링크래.
여기를 아직 정확하게는 모르겠는데
아틱 : dnf install mosquitto 입력하고 mosquitto & 로 실행
아두이노 : 스케치코드(친구가보내준 링크인듯)
양쪽에서 이렇게 하면 아틱이랑 아두이노랑 연결되는거같아

-----------여까지가 친구얘기고-------------

우리는 일단 입력이 아틱이니까 올라가는 과정은 필요없을거같고
(아틱에서 바로 클라우드로 넘어가는건 아틱 와이파이만 되면 되는거니까)

내려오는게 문제인거잖아 지금

클라우드>아틱>아두이노모터(및기타등등)
우리 내려오는 과정이 이렇게 생겼고

예지 너가 tcp찾아보고있으니까
친구가 tcp 올리는방향으로 해놨으니 저걸 역으로 바꿔볼까 생각해봤는데
1-1)에 쓰인 친구 아두이노 스케치코드(tcp로 아틱 아두이노 연결)가
단방향이라서 아두이노에서 보내는거만 되는거라고 하더라 ㅠㅠㅠㅠㅠ
역방향 스케치코드가 있으면 찾아보는 방법도 있을거같고

아니면 친구네가 mqtt로 내려오게 했으니까
우리도 mqtt로 내려오게 하는 방법이 있지
